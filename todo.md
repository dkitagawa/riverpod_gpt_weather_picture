# Phase 1A-1: main.dart コードレベル整理 - 実装Todo

## 🎯 Step 1A-1: main.dart 内での責任分離

### **Task 1: WeatherContentContainer の責任整理** 
- [x] 個別のビルドメソッドに分割済み（_buildContentDisplay, _buildLoadingDisplay, _buildErrorDisplay）
- [ ] 画像表示ロジック（_buildWeatherImage）のエラーハンドリング最適化
- [ ] プレースホルダー表示（_buildNoImagePlaceholder）のスタイル定数化
- [ ] コードコメント追加で各メソッドの責任範囲を明記

### **Task 2: 表示要素の責任明確化**
- [x] _buildLocationInfo メソッドで日付・地域表示を分離済み
- [x] _buildWeatherText メソッドでテキスト表示を分離済み  
- [ ] スタイリング定数の外部化（TextStyle, Colors, サイズ等）
- [ ] const 最適化の徹底

### **Task 3: InputColumn の状態管理ロジック整理**
- [ ] `_InputColumnState` の状態更新ロジック分離
- [ ] `_datePicker` メソッドの責任明確化
- [ ] ダイアログ表示ロジックの抽出（_showAreaDialog メソッド作成）
- [ ] ボタンハンドラの責任分離

### **Task 4: UI表示ロジックとイベントハンドリングの分離**
- [ ] イベントハンドラメソッドを private に統一
- [ ] UI構築ロジックとビジネスロジック(Provider呼び出し)の分離
- [ ] 各ウィジェットの const 最適化

### **Task 5: MyHomePage の責任明確化**
- [ ] Scaffold 構造の最適化
- [ ] レイアウト責任の明確化
- [ ] 子ウィジェットとの依存関係整理

## 📊 期待される改善効果

### **コード品質向上**
- 各ウィジェットの単一責任原則の遵守
- メソッドレベルでの責任境界の明確化
- 再利用性の向上

### **保守性向上**
- コードレビューしやすい構造
- バグ修正箇所の特定容易性
- 機能追加時の影響範囲明確化

### **テスタビリティ向上**
- ウィジェットテスト対象の明確化
- モック対象の特定容易性
- ユニットテスト導入の準備完了

## ✅ 完了基準

1. **機能保証**: アプリケーションの全機能が正常動作
2. **コード品質**: flutter analyze でエラー・警告なし
3. **責任分離**: 各メソッド・クラスの責任が1つに明確化
4. **ドキュメント**: 重要メソッドにコメント追加
5. **動作確認**: 日付変更、地域変更、画像生成が正常動作

## 🚀 実装準備完了

この詳細なtodoリストに従って、Step 1A-1の実装を開始できます。
各タスクは小さなステップに分割されており、動作確認とコミットを繰り返しながら安全に進行できます。
